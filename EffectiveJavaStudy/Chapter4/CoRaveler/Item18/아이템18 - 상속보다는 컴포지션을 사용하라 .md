# ì•„ì´í…œ18 - ìƒì†ë³´ë‹¤ëŠ” ì»´í¬ì§€ì…˜ì„ ì‚¬ìš©í•˜ë¼

íƒœê·¸: Done

<aside>
ğŸ’¡ ìƒì†ì€ ê°•ë ¥í•˜ì§€ë§Œ ìº¡ìŠí™”ë¥¼ í•´ì¹œë‹¤ëŠ” ë¬¸ì œê°€ ìˆë‹¤.

ìƒì†ì€ ìƒìœ„ í´ë˜ìŠ¤ì™€ í•˜ìœ„ í´ë˜ìŠ¤ê°€ ìˆœìˆ˜í•œ `is-a` ê´€ê³„ì¼ ë•Œë§Œ ì¨ì•¼ í•œë‹¤. 
is-a ê´€ê³„ì¼ ë•Œë„ ì•ˆì‹¬í•  ìˆ˜ë§Œì€ ì—†ëŠ” ê²Œ,

1. í•˜ìœ„ í´ë˜ìŠ¤ì˜ íŒ¨í‚¤ì§€ê°€ ìƒìœ„ í´ë˜ìŠ¤ì™€ ë‹¤ë¥´ê³ ,
2. ìƒìœ„ í´ë˜ìŠ¤ê°€ í™•ì¥ì„ ê³ ë ¤í•´ ì„¤ê³„ë˜ì§€ ì•Šì•˜ë‹¤ë©´

ì—¬ì „íˆ ë¬¸ì œê°€ ë  ìˆ˜ ìˆë‹¤.

ìƒì†ì˜ ì·¨ì•½ì ì„ í”¼í•˜ë ¤ë©´ ìƒì† ëŒ€ì‹  ì»´í¬ì§€ì…˜ê³¼ ì „ë‹¬ì„ ì‚¬ìš©í•˜ì.
íŠ¹íˆ ë˜í¼ í´ë˜ìŠ¤ë¡œ êµ¬í˜„í•  ì ë‹¹í•œ ì¸í„°í˜ì´ìŠ¤ê°€ ìˆë‹¤ë©´ ë”ìš± ê·¸ë ‡ë‹¤.

</aside>

> ì´ ë¶€ë¶„ì—ì„œì˜ `ìƒì†` ì€ í´ë˜ìŠ¤ê°€ ë‹¤ë¥¸ í´ë˜ìŠ¤ë¥¼ í™•ì¥í•˜ëŠ” `êµ¬í˜„ ìƒì†(extends)` ì„ ë§í•œë‹¤.
> 

# `ë©”ì„œë“œ í˜¸ì¶œê³¼ ë‹¬ë¦¬ ìƒì†ì€ ìº¡ìŠí™”ë¥¼ ê¹¨ë“œë¦°ë‹¤.`

- ìƒìœ„ í´ë˜ìŠ¤ëŠ” ë¦´ë¦¬ìŠ¤ë§ˆë‹¤ ë‚´ë¶€ êµ¬í˜„ì´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìœ¼ë©°,
- ê·¸ ì—¬íŒŒë¡œ ì½”ë“œ í•œ ì¤„ ê±´ë“œë¦¬ì§€ ì•Šì€ í•˜ìœ„ í´ë˜ìŠ¤ê°€ ì˜¤ë™ì‘í•  ìˆ˜ ìˆë‹¤.

â‡’ `ìƒìœ„ í´ë˜ìŠ¤ì˜ êµ¬í˜„ë•Œë¬¸ì—, ìƒì†ì„ í•¨ë¶€ëŸ¬ í•˜ê²Œ ë˜ë©´ ì˜¤ì‘ë™ì„ ì¼ìœ¼í‚¨ë‹¤!`

êµ¬ì²´ì ì¸ ì˜ˆì‹œë¥¼ ë³´ì.

- ì½”ë“œ
    
    ```java
    public class InstrumentedHashSet<E> extends HashSet<E> { 
        // ì¶”ê°€ëœ ì›ì†Œì˜ ìˆ˜
        private int addCount = 0;
    
        public InstrumentedHashSet(){}
    
        public InstrumentedHashSet(int initCap, float loadFactor) {
            super(initCap, loadFactor);
        }
    
        @Override
        public boolean add(E e) {
            addCount++; // ì›ì†Œë¥¼ ì¶”ê°€í•œ ì´ë ¥
            return super.add(e);
        }
    
        @Override
        public boolean addAll(Collection<? extends E> c) {
            addCount += c.size(); // collection ì˜ ì‚¬ì´ì¦ˆë§Œí¼ addCount ì¶”ê°€
            return super.addAll(c);
        }
    
        public int getAddCount() {
            return addCount;
        }
    }
    ```
    
    HashSet ì—ì„œ ì›ì†Œ ì¶”ê°€ ì´ë ¥(addCount) ë¥¼ ê³„ì‚°í•˜ê³  ì‹¶ì–´
    
    ìœ„ì™€ ê°™ì´ HashSet ì„ êµ¬í˜„ ìƒì†ì„ í•˜ê²Œ ë˜ì—ˆë‹¤.
    
    ìœ„ InstrumentedHashSet ì„ ì‚¬ìš©í•´ 
    
    ì¶”ê°€ ì´ë ¥ì„ ì¶œë ¥í•˜ëŠ” ì½”ë“œë¥¼ ì§œë´¤ë‹¤.
    
    ```java
    InstrumentedHashSet<String> iSet = new InstrumentedHashSet<>();
    iSet.addAll(List.of("ì°ì°ì°ì°", "ì¥ìƒˆë¼ê°€", "ë§ì´ë§ë„¤");
    System.out.println("addCount : " + getAddCount()); // ì´ë•Œ ê²°ê³¼ëŠ”?
    ```
    
    - ìœ„ ì½”ë“œì˜ ê²°ê³¼ëŠ” ì–´ë–»ê²Œ ë ê¹Œ?
        
        6ì´ë‹¤. í•„ìë„ 3ì´ë¼ ìƒê°í–ˆë‹¤. ~~(ëˆˆì¹˜ê» 6ì´ë ¤ë‚˜ í•˜ê¸°ëŠ” í–ˆë‹¤.)~~
        
        ë¬¸ì œëŠ” HashSet ì˜ ìƒìœ„ í´ë˜ìŠ¤ì˜ êµ¬í˜„ì—ì„œì˜ ë¬¸ì œ ë•Œë¬¸ì´ë‹¤.
        
        ![IMG_0154.jpeg](https://github.com/Effective-Java-Study-Team/EffectiveJava/blob/main/EffectiveJavaStudy/Chapter4/CoRaveler/Item18/pictures/add%EA%B3%84%EC%B8%B5%EB%8F%84.png?raw=true)
        
        1. addAll() â†’ super.addAll()
            
            ì´ë•Œ addCount += 3ì´ ëœë‹¤.
            
        2. HashSet ì€ AbstractCollection ì˜ addAll ì„ ìƒì†ë°›ì•˜ë‹¤. (AbstractCollectionì€ ì´ë¯¸ addAll ì„ êµ¬í˜„í•´ë†¨ë‹¤.)
            - ì¦‰, super.addAll() ì€ AbstractCollection ì˜ addAll() ì´ê³ ,
            - ì´ëŠ” ë‹´ê²¨ì˜¨ ë¦¬ìŠ¤íŠ¸ë¥¼ ëŒë©°, ì›ì†Œ í•˜ë‚˜ë§ˆë‹¤ add ë¥¼ í˜¸ì¶œí•œë‹¤.
        3. ì´ë•Œ super ê°ì²´ëŠ” InstrumentedHashSet íƒ€ì…ì´ë¼ì„œ, InstruementedHashSetì—ì„œ  ì˜¤ë²„ë¼ì´ë”©ëœ add ê°€ í˜¸ì¶œ ëœë‹¤.
        4. add ê°€ í˜¸ì¶œ ë˜ë©´ addCount += 3 ê°€ ëœë‹¤.
        5. ë”°ë¼ì„œ 6ì´ ë‚˜ì˜¨ë‹¤.
            
            

ì½”ë“œì—ì„œ ë´¤ë“¯ì´, ìì‹ ì˜ ë‹¤ë¥¸ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ëŠ” `ìê¸°ì‚¬ìš©(self-use)` ëŠ”

ë‚´ë¶€ êµ¬í˜„ ë°©ì‹ì— í•´ë‹¹í•˜ê³ , ì´ëŠ” ì–¸ì œ ì–´ë–»ê²Œ ë°”ë€” ì§€ ëª¨ë¥¸ë‹¤.

ë¬¼ë¡  ìœ„ ê²½ìš°ì— í•œí•´ì„œ ë‹¤ìŒì˜ í•´ê²°ì±…ë“¤ ìˆê³ , ë˜ ê·¸ì—ì„œ íŒŒìƒë˜ëŠ” ë¬¸ì œì ì´ ì¡´ì¬í•œë‹¤.

1. ìƒìœ„ í´ë˜ìŠ¤ì˜ addAll ì²˜ëŸ¼ ì˜¤ë²„ë¼ì´ë”© ë•Œ ì§ì ‘ í•˜ë‚˜í•˜ë‚˜ add ë¥¼ í˜¸ì¶œí•´ì£¼ê¸°.
    
    â†’ ë˜‘ê°™ì€ ê±¸ êµ¬í˜„í•˜ê²Œ ë˜ê³ , ì„±ëŠ¥ ì €í•˜ì˜ ì—¬ì§€ë„ ìˆë‹¤.
    
2. ìƒìœ„ í´ë˜ìŠ¤ì˜ ìƒˆë¡­ê²Œ ìƒê¸´ ë©”ì„œë“œì— ê²€ì¦ í•˜ê¸°
    - ì½”ë“œ ì˜ˆì‹œ
        
        ```java
        class BaseCollection<T> extends ArrayList<T> {
            @Override
            public boolean add(T element) {
                System.out.println("Adding in BaseCollection: " + element);
                return super.add(element);
            }
        }
        ```
        
        ```java
        class SecureCollection extends BaseCollection<Integer> {
            @Override
            public boolean add(Integer element) {
                if (element <= 10) {
                    System.out.println("Failed security check. Element: " + element);
                    return false;
                }
                System.out.println("Adding in SecureCollection: " + element);
                return super.add(element);
            }
        }
        ```
        
        `BaseCollection <- SecureCollection` ê´€ê³„ì´ê³ ,
        
        SecureCollection ì€ ëª¨ë“  ì›ì†Œê°€ ë³´ì•ˆìƒì˜ ì´ìœ ë¡œ 10ë³´ë‹¤ ì‘ì€ ê°’ë§Œ í—ˆìš©í•œë‹¤ í•´ë³´ì.
        
        ì´ë•Œ í–¥í›„ ë¦´ë¦¬ì¦ˆì— BaseCollection ì— ë‹¤ìŒê³¼ ê°™ì´ ë©”ì„œë“œê°€ ì¶”ê°€ëœë‹¤ê³  í•´ë³´ì.
        
        ```java
        class BaseCollection<T> extends ArrayList<T> {
            @Override
            public boolean add(T element) {
                System.out.println("Adding in BaseCollection using add(): " + element);
                return super.add(element);
            }
        
            public boolean addElement(T element) {
                System.out.println("Adding in BaseCollection using addElement(): " + element);
                return super.add(element);
            }
        }
        ```
        
        ì´ë•Œ `addElement(T element)` ë©”ì„œë“œëŠ” ê²€ì¦ ì½”ë“œê°€ ì—†ì§€ë§Œ,
        
        SecureCollection í´ë˜ìŠ¤ëŠ” ì´ë¥¼ ìƒì†ë°›ê²Œ ë˜ì§€ë§Œ
        
        ê²€ì¦ì„ í•˜ì§€ ì•ŠëŠ” ë‹¤.
        
        ì´ëŸ° ê²½ìš°ê°€ ë°”ë¡œ `Stack` ê³¼ `Vector` í´ë˜ìŠ¤ì´ë‹¤.
        
    

2 ê°€ì§€ì˜ ìš°íšŒë²•ì€ `ë©”ì„œë“œì˜ ì¬ì •ì˜`ê°€ ë¬¸ì œê°€ ëœë‹¤.

# `ëŒ€ì•ˆìœ¼ë¡œ, ìƒì† ëŒ€ì‹  ì»´í¬ì§€ì…˜ì„ ì‚¬ìš©í•˜ì`

<aside>
ğŸ’¡ ë‹¨ì–´ ì •ì˜
`ì „ë‹¬(forwarding)`
ìƒˆ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œë“¤ì€ 
ê¸°ì¡´ í´ë˜ìŠ¤ì˜ ëŒ€ì‘í•˜ëŠ” ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ ê·¸ ê²°ê³¼ë¥¼ ë°˜í™˜.

`ì „ë‹¬ ë©”ì„œë“œ(forwarding method)`
ìƒˆ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë“¤ì„ ì¼ì»«ëŠ”ë‹¤.

</aside>

ì „ë‹¬, ì „ë‹¬ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´

ìœ„ì—ì„œì˜ InstrumentedHashSet ì„ ë‹¤ì‹œ í•œë²ˆ ê³ ì³ë³´ì.

- ì»´í¬ì§€ì…˜ì„ í™œìš©í•œ InstrumentedHashSet
    
    ```java
    public class InstrumentedSet<E> extends ForwardingSet<E> {
        private int addCount = 0;
    
        public InstrumentedSet(Set<E> s) { // ì…ë ¥ íŒŒë¼ë¯¸í„°ì˜ íƒ€ì…ì„ Setìœ¼ë¡œ í–ˆê¸° ë•Œë¬¸ì—, 
                                           // ëª¨ë“  Set êµ¬í˜„ì²´(HashSet, TreeSet ë“±ë“±)ì´ ê°€ëŠ¥í•˜ë‹¤!
            super(s);
        }
    
        @Override
        public boolean add(E e) {
            addCount++;
            return super.add(e);
        }
    
        @Override
        public boolean addAll(Collection<? extends E> c) {
            addCount += c.size();
            return super.addAll(c);
        }
    
        public int getAddCount() {
            return addCount;
        }
    }
    ```
    
    - ForwardingSet ì½”ë“œ
        
        ```java
        public class ForwardingSet<E> implements Set<E> {
            private final Set<E> s;
        
            public ForwardingSet(Set<E> s) {
                this.s = s;
            }
        
            public void clear() {
                s.clear();
            }
        
            public boolean contains(Object o) {
                return s.contains(o);
            }
        
            public boolean isEmpty() {
                return s.isEmpty();
            }
        
            public int size() {
                return s.size();
            }
        
            public Iterator<E> iterator() {
                return s.iterator();
            }
        
            public boolean add(E e) {
                return s.add(e);
            }
        
            public boolean remove(Object o) {
                return s.remove(o);
            }
        
            public boolean containsAll(Collection<?> c) {
                return s.containsAll(c);
            }
        
            public boolean addAll(Collection<? extends E> c) {
                return s.addAll(c);
            }
        
            public boolean removeAll(Collection<?> c) {
                return s.removeAll(c);
            }
        
            public boolean retainAll(Collection<?> c) {
                return s.retainAll(c);
            }
        
            public Object[] toArray() {
                return s.toArray();
            }
        
            public <T> T[] toArray(T[] a) {
                return s.toArray(a);
            }
        
            @Override
            public boolean equals(Object o) {
                return s.equals(o);
            }
        
            @Override
            public int hashCode() {
                return s.hashCode();
            }
        
            public String toString() {
                return s.toString();
            }
        }
        ```
        
    
    super ì˜ add(), addAll() ë¥¼ í˜¸ì¶œí•˜ì§€ë§Œ,
    
    ì²˜ë¦¬ëŠ” ë‹¤ ìœ„ì—ì„œë§Œ í•´ê²°í•œë‹¤.
    
    ì •ë§ HashSet ì— ê¸°ëŠ¥ë§Œ ì¶”ê°€í•˜ê²Œ ëë‹¤.
    
    ìœ„ì—ì„œì˜ ì „ë‹¬ ë©”ì„œë“œëŠ” 
    
    1. add(E e)
    2. addAll(Collection<? extends E> c) ì´ë‹¤
    
    ì´ë ‡ê²Œ ìƒìœ„ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œì™€ ëŒ€ì‘í•˜ëŠ” ë©”ì„œë“œë¥¼ ë§Œë“¤ê³  ë¶€ë¥´ëŠ” ì‘ë™ ë°©ì‹ì„ 
    
    `ì „ë‹¬(forwarding)` ì´ë¼ê³  ë¶€ë¥´ê²Œ ë˜ê³ 
    
    ì´ëŸ° ê²½ìš° InstrumentedSet ì€ ì´ë•Œ `Wrapper Class` ë¼ê³  ë¶€ë¥¸ë‹¤.
    
- ì»´í¬ì§€ì…˜ì„ ì‚¬ìš©í•œ ë˜í¼ í´ë˜ìŠ¤ ë°©ì‹ì„ ì‚¬ìš©í•  ê²½ìš°ì˜ ë‹¨ì 
    
    ```java
    // OriginalClass.java
    public class OriginalClass implements Callback {
    
        @Override
        public void execute() {
            System.out.println("OriginalClass's execute()");
        }
    
        public void registerCallback(Callback callback) {
            System.out.println("callback = " + callback.getClass());
            callback.execute();
        }
    
        public void wrongRegister() {
            // SELF ë¬¸ì œì˜ ë°œìƒ: ì´ 'this'ëŠ” OriginalClassì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¨ë‹¤.
            // ë”°ë¼ì„œ ì´ê²ƒì„ ì‚¬ìš©í•˜ì—¬ ì½œë°±ì„ ë“±ë¡í•˜ë©´ WrapperClassì˜ ë¡œì§ì´ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.
            registerCallback(this);
        }
    }
    ```
    
    ```java
    public class WrapperClass implements Callback {
        private final OriginalClass ori; // OriginalClassë¥¼ ì»´í¬ì§€ì…˜ìœ¼ë¡œ ë¶€ë¦„
    
        public WrapperClass(OriginalClass ori) {
            this.ori = ori;
        }
    
        @Override
        public void execute() {
            System.out.println("Wrapper Class's execute()");
            ori.execute();
        }
    
        public void doSomethingAndRegister() {
            ori.wrongRegister();
        }
    }
    ```
    
    ```java
    public class CallBackExample {
        public static void main(String[] args) {
            OriginalClass originalClass = new OriginalClass();
            WrapperClass wrapperClass = new WrapperClass(originalClass);
    
            wrapperClass.doSomethingAndRegister(); // ì´ë•Œ ê²°ê³¼ë¬¼ì€?
        }
    }
    ```
    
    - ì •ë‹µ
        
        > callback = class CoRaveler.Item18.OriginalClass
        OriginalClass's execute()
        > 
        
    
    í˜„ì¬ Wrapper í´ë˜ìŠ¤ê°€ Original ì„ ì»´í¬ì§€ì…˜ì„ í†µí•´
    
    í•„ë“œë¡œ ê°€ì§€ê³  ìˆê³ , ì´ë¥¼ í†µí•´ callback í•¨ìˆ˜ë¥¼ ë“±ë¡í•˜ê²Œ ëœë‹¤.
    
    callback í”„ë ˆì„ì›Œí¬ì˜ ê²½ìš°, this ë¥¼ ë„˜ê¸°ê²Œ ë˜ëŠ”ë°
    
    OriginalClass ëŠ” Wrapper ì˜ ì¡´ì¬ë¥¼ ëª¨ë¥´ê¸° ë•Œë¬¸ì—
    
    this ë¥¼ ë„˜ê¸¸ ë•Œ ìê¸° ìì‹ ì„ ë„˜ê¸°ê²Œ ë˜ë¯€ë¡œ, 
    
    ì˜ë„í•œ ë°”ëŒ€ë¡œ ì½”ë“œê°€ êµ´ëŸ¬ê°€ì§€ ì•ŠëŠ” ë‹¤.
    
- JDK ì—ì„œ ì»´í¬ì§€ì…˜ ëŒ€ì‹  ìƒì†ì„ ì¨ì„œ ë‚˜ë½ì„ ê°„ ê²½ìš° (Properties, HashTable)
    - HashTable, Properties ë€?
        1. **Hashtable**:
            - **`Hashtable`**ì€ í‚¤ì™€ ê°’ì˜ ìŒìœ¼ë¡œ ì´ë£¨ì–´ì§„ í•­ëª©ë“¤ì„ ì €ì¥í•˜ëŠ” ìë£Œêµ¬ì¡°ì…ë‹ˆë‹¤.
            - í‚¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë¹ ë¥´ê²Œ ë°ì´í„°ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            - í‚¤ëŠ” ìœ ì¼í•´ì•¼ í•©ë‹ˆë‹¤. (ê°™ì€ í‚¤ë¥¼ ê°€ì§„ í•­ëª©ì„ ì¶”ê°€í•˜ë©´ ì´ì „ í•­ëª©ì„ ë®ì–´ì”ë‹ˆë‹¤.)
            - **`Hashtable`**ì€ ë™ê¸°í™”ëœ(synchronized) ë©”ì„œë“œë¥¼ í¬í•¨í•˜ë¯€ë¡œ,
            - ë©€í‹° ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œë„ ì•ˆì „í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            - Javaì—ì„œëŠ” **`HashMap`**ì´ ë” ìì£¼ ì‚¬ìš©ë˜ëŠ”ë°,
            - **`HashMap`**ì€ **`Hashtable`**ê³¼ ìœ ì‚¬í•˜ì§€ë§Œ ë™ê¸°í™”ë˜ì§€ ì•Šì•„ ì¼ë°˜ì ìœ¼ë¡œ ì„±ëŠ¥ì´ ì¢‹ìŠµë‹ˆë‹¤.
        2. **Properties**:
            - **`Properties`**ëŠ” **`Hashtable`**ì„ í™•ì¥í•œ í´ë˜ìŠ¤ë¡œ,
            - í‚¤ì™€ ê°’ ëª¨ë‘ **`String`**ìœ¼ë¡œ ì œí•œëœ ì„¤ì •ê°’ì„ ì €ì¥í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.
            - ì£¼ë¡œ ì„¤ì • íŒŒì¼ì´ë‚˜ í™˜ê²½ ë³€ìˆ˜ë¥¼ ë¡œë“œí•  ë•Œ ì‚¬ìš©ë˜ë©°,
            - **`.properties`** íŒŒì¼ì„ ì½ê³  ì“°ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ex) db.properties
            - **`getProperty`**ì™€ **`setProperty`** ê°™ì€ ë©”ì„œë“œë¥¼ ì œê³µí•˜ì—¬
            - ë¬¸ìì—´ ê¸°ë°˜ì˜ í‚¤ì™€ ê°’ì˜ ìŒì„ ì €ì¥í•˜ê³  ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    
    ```java
    public class PropertiesStoreError {
        public static void main(String[] args) {
            Properties p = new Properties();
            p.setProperty("ID", "park");
            p.setProperty("PWD", "1234");
            p.setProperty("TEL", "010-0000-0000");
            System.out.println("p = " + p); // p = {TEL=010-0000-0000, ID=park, PWD=1234}
    
            p.put("PWD2", 1234); // Integer ë¥¼ value ë¡œ ì €ì¥í•´ë„ ì—ëŸ¬ê°€ ë‚˜ì§€ ì•ŠëŠ” ë‹¤.
            System.out.println("p = " + p); // p = {PWD2=1234, TEL=010-0000-0000, ID=park, PWD=1234}
    
            try(FileOutputStream outputStream = new FileOutputStream("config.properties")){
                p.store(outputStream, "This is ì£¼ì„");
            } catch (Exception e ) {
                e.printStackTrace();
            }
        }
    }
    ```
    
    ```java
    java.lang.ClassCastException: class java.lang.Integer cannot be cast to class java.lang.String (java.lang.Integer and java.lang.String are in module java.base of loader 'bootstrap')
    	at java.base/java.util.Properties.store0(Properties.java:911)
    	at java.base/java.util.Properties.store(Properties.java:895)
    	at CoRaveler.Item18.PropertiesStoreError.main(PropertiesStoreError.java:18)
    ```
    
    ìœ„ ì½”ë“œë¥¼ ëŒë¦¬ë©´ ì•„ë˜ì²˜ëŸ¼ ì—ëŸ¬ê°€ ë‚˜ê²Œ ëœë‹¤.
    
    ì•Œì•„ë³´ìë©´
    
    ![IMG_0155.jpeg](https://github.com/Effective-Java-Study-Team/EffectiveJava/blob/main/EffectiveJavaStudy/Chapter4/CoRaveler/Item18/pictures/PropertiesStore.png?raw=true)
    
    ê° ì—”íŠ¸ë¦¬ì˜ key, value ê°’ë“¤ì„ String ìœ¼ë¡œ ìºìŠ¤íŒ… í•˜ê¸° ë•Œë¬¸ì—
    
    ì´ ê³¼ì •ì—ì„œ ì—ëŸ¬ê°€ ë‚˜ê²Œ ëœë‹¤.
    
    ì¦‰, Properties ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°
    
    HashTable ì—ê²Œì„œ ìƒì†ë°›ì€ put ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ê²Œ ëœë‹¤ë©´
    
    Properties ì˜ load, store ë“±ì˜ ë©”ì„œë“œëŠ” ì‚¬ìš©ì´ ë¶ˆê°€ëŠ¥í•´ì§„ë‹¤.
    
    ì¦‰, Properties ëŠ” ì›í•˜ëŠ” ì•ŠëŠ” ê²ƒê¹Œì§€ ìƒì†ì„ ë°›ê¸° ë•Œë¬¸ì—
    
    ë¬¸ì œê°€ ìƒê¸°ëŠ” ì „í˜•ì ì¸ ê²½ìš°ë¼ê³  ë³´ë©´ ëœë‹¤.
    
    ê·¸ë˜ì„œ ì‹¤ì œë¡œ Properties ì˜ ë¬¸ì„œì— ë‹¤ìŒê³¼ ê°™ì´ ë‚˜ì™€ìˆë‹¤.
    
    > Properties ê°ì²´ëŠ” HashTable ë¡œ ë¶€í„° ìƒì†ì„ ë°›ê¸° ë•Œë¬¸ì—, put, putAll ë©”ì„œë“œë“¤ì€ Properties ê°ì²´ì—ì„œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤. ì´ ë©”ì„œë“œë“¤ì€ í˜¸ì¶œìê°€ String ì´ ì•„ë‹Œ key/value ë¥¼ ê°€ì§„ entry ë¥¼ ì‚½ì…í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì ˆëŒ€ ì‚¬ìš©í•˜ë©´ ì•ˆëœë‹¤. ëŒ€ì‹  setProperty ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ë§Œì•½ ì´ëŸ° non-String íƒ€ì…ì˜ key-value ë¥¼ ê°€ì§„, ì†Œìœ„ ì˜¤ì—¼ëœ Properties ê°ì²´ì—ì„œ store, save ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œë‹¤ë©´ ì´ëŠ” ì‹¤íŒ¨í•˜ê²Œ ë©ë‹ˆë‹¤. ë¹„ìŠ·í•œ ë§¥ë½ìœ¼ë¡œ, propertyNames ë‚˜ list ë©”ì„œë“œë„ ì‹¤íŒ¨í•˜ê²Œ ë ê²ë‹ˆë‹¤.
    
    [ì¶œì²˜] : [java.util.Properties](http://java.util.Properties) ì˜ ì£¼ì„
    > 

<aside>
ğŸ’¡ ë§ˆì§€ë§‰ìœ¼ë¡œ ì•„ë˜ ì§ˆë¬¸ì„ ì•ìœ¼ë¡œ ìƒì†, ì»´í¬ì§€ì…˜ì— ëŒ€í•œ ê³ ë¯¼í•  ë•Œ ìŠ¤ìŠ¤ë¡œì—ê²Œ ë¬¼ì–´ë³´ë©´ ì¢‹ì„ ê²ƒì´ë‹¤.

í™•ì¥í•˜ë ¤ëŠ” í´ë˜ìŠ¤ì˜ API ì— ì•„ë¬´ëŸ° ê²°í•¨ì´ ì—†ëŠ”ê°€?
ê²°í•¨ì´ ìˆë‹¤ë©´, ì´ ê²°í•¨ì´ ì—¬ëŸ¬ë¶„ í´ë˜ìŠ¤ì˜ API ê¹Œì§€ ì „íŒŒë¼ë„ ê´œì°®ì€ê°€?

ì»´í¬ì§€ì…˜ìœ¼ë¡œëŠ” ì´ëŸ° ê²°í•¨ì„ ìˆ¨ê¸°ëŠ” ìƒˆë¡œìš´ APIë¥¼ ì„¤ê³„í•  ìˆ˜ ìˆì§€ë§Œ,
ìƒì†ì€ ìƒìœ„ í´ë˜ìŠ¤ì˜ APIë¥¼ â€˜ê·¸ ê²°í•¨ê¹Œì§€ë„â€™ ê·¸ëŒ€ë¡œ ìŠ¹ê³„í•œë‹¤.

</aside>