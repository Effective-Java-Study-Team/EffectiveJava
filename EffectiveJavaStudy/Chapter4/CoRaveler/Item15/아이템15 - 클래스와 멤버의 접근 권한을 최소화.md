# ì•„ì´í…œ15 - í´ë˜ìŠ¤ì™€ ë©¤ë²„ì˜ ì ‘ê·¼ ê¶Œí•œì„ ìµœì†Œí™”í•´ë¼

íƒœê·¸: Done

<aside>
ğŸ’¡ **ì˜ ì„¤ê³„ëœ ì»´í¬ë„ŒíŠ¸ëŠ” ì–¼ë§ˆë‚˜ ìº¡ìŠí™”ë¥¼ ì˜ í–ˆëƒì— ë”°ë¼ ë‹¤ë¥´ë‹¤.
ì¦‰, ìº¡ìŠí™”ëŠ” í•  ìˆ˜ ìˆëŠ” ë§Œí¼ í•˜ì.**

</aside>

ìº¡ìŠí™”ì˜ ì¥ì ì€ ì •ë§ ë§ìŠµë‹ˆë‹¤!

êµ¬ì²´ì ìœ¼ë¡œ ì•Œì•„ë³´ì£ .

# ìº¡ìŠí™”ì˜ ì¥ì 

1. `ì‹œìŠ¤í…œ ê°œë°œ ì†ë„ë¥¼ ë†’ì¸ë‹¤.`
    - ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ë¥¼ ë³‘ë ¬ë¡œ ê°œë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!
2. `ì‹œìŠ¤í…œ ê´€ë¦¬ ë¹„ìš©ì„ ë‚®ì¶¥ë‹ˆë‹¤.`
    - ì—ëŸ¬ê°€ ì–´ë””ì—ì„œ ë‚¬ëŠ” ì§€ íŒŒì•…ì´ ë¹ ë¥´ë‹¤ â†’ ë””ë²„ê¹…ì´ ì‰½ë‹¤
    - ë…ë¦½ì ì´ê¸° ë•Œë¬¸ì— êµì²´ê°€ ì‰½ë‹¤!
3. `ì„±ëŠ¥ ìµœì í™”ì— ë„ì›€ì„ ì¤€ë‹¤.`
    - ì»´í¬ë„ŒíŠ¸ë“¤ì´ ë…ë¦½ì ì´ê¸°ì—, 
    íŠ¹ì • ì»´í¬ë„ŒíŠ¸ë¥¼ ìˆ˜ì •í•´ë„ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì— ì˜í–¥ì´ ê°€ì§€ ì•ŠìŒì„ ë³´ì¥ë°›ëŠ”ë‹¤!
4. `ì†Œí”„íŠ¸ì›¨ì–´ ì¬ì‚¬ìš©ì„±ì„ ë†’ì¸ë‹¤`
    - ë…ë¦½ì ì¸ ì»´í¬ë„ŒíŠ¸ì´ë©´, ë‹¤ë¥¸ í™˜ê²½ì—ì„œë„ ì˜ ì‘ë™í•œë‹¤!
5. `í° ì‹œìŠ¤í…œì„ ì œì‘í•˜ëŠ” ë‚œì´ë„ë¥¼ ë‚®ì¶°ì¤€ë‹¤.`
    - ëª¨ë“  ì‹œìŠ¤í…œì´ ì™„ì„±ì´ ë˜ì§€ ì•Šì•„ë„, 
    í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë§Œ ë”°ë¡œ í…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•˜ë‹¤!

# ìº¡ìŠí™” êµ¬í˜„ë²•

<aside>
ğŸ’¡ **ìº¡ìŠí™” ê¸°ë³¸ ì›ì¹™**

â€**ëª¨ë“  í´ë˜ìŠ¤ì™€ ë©¤ë²„ì˜ ì ‘ê·¼ì„±ì„ ê°€ëŠ¥í•œ í•œ ì¢í˜€ì•¼ í•œë‹¤.â€**

</aside>

ìµœëŒ€í•œ private ì—ì„œ ì‹œì‘í•œë‹¤ëŠ” ë§ˆì¸ë“œ!

ê¸°ë³¸ì ìœ¼ë¡œ í†±ë ˆë²¨ í´ë˜ìŠ¤ or ì¸ìŠ¤í„´íŠ¸ì—

ë¶€ì—¬ ê°€ëŠ¥í•œ ì ‘ê·¼ ì œì–´ìëŠ” 2 ê°€ì§€ì´ë‹¤.

1. `public`
    1. ê³µê°œ API ì—­í• 
    2. íŒ¨í‚¤ì§€ì˜ API ì—­í• ì„
2. `package-private(default)`
    1. ì„ ì–¸ëœ íŒ¨í‚¤ì§€ ì•ˆì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥
    2. ë‚´ë¶€ êµ¬í˜„ ê´€ë ¨ ë¡œì§
    3. ì–¸ì œë“ ì§€ ìˆ˜ì •, êµì²´ ê°€ëŠ¥

ì˜ˆì‹œ)

```java
public final class String
    implements java.io.Serializable, Comparable<String>, CharSequence,
               Constable, ConstantDesc {

    @Stable
    private final byte[] value;
    private final byte coder;
    private int hash; // Default to 0
    private boolean hashIsZero; // Default to false;
    @java.io.Serial
    private static final long serialVersionUID = -6849794470754667710L;
		
		private static boolean isASCII(byte[] src) {
        return !StringCoding.hasNegatives(src, 0, src.length);
    }
		// ì—¬ê¸°ê¹Œì§„ ë‚´ë¶€ êµ¬í˜„ì¸ private í•„ë“œë“¤

		// ...
		
		public char charAt(int index) { // charAt ìœ¼ë¡œë§Œ valueì†ì„± ì ‘ê·¼(ê³µê°œ API)
        if (isLatin1()) {
            return StringLatin1.charAt(value, index);
        } else {
            return StringUTF16.charAt(value, index);
        }
    }

		// ...
}
```

### ì ‘ê·¼ì œì–´ìì˜ ì¢…ë¥˜

1. `private`
    1. ë©¤ë²„ë¥¼ ì„ ì–¸í•œ í†±ë ˆë²¨ í´ë˜ìŠ¤ì—ì„œë§Œ ì ‘ê·¼ ê°€ëŠ¥
2. `package-private(default)`
    1. ë©¤ë²„ê°€ **ì†Œì†ëœ íŒ¨í‚¤ì§€ ì•ˆì˜ ëª¨ë“  í´ë˜ìŠ¤ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥**
    2. ë³´í†µ ëª…ì‹œë¥¼ ì•ˆí•˜ë©´ default ì§€ë§Œ, interface ëŠ” ëª…ì‹œì•ˆí•´ë„ public
3. `protected`
    1. default + í•˜ìœ„í´ë˜ìŠ¤ ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥
4. `public`
    1. ëª¨ë“  ê³³ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥

### ì ‘ê·¼ ìˆ˜ì¤€ë¥¼ ë³€í™”ì‹œí‚¬ ê²½ìš° ê³ ë ¤ì 

![IMG_0152.jpeg](https://github.com/Effective-Java-Study-Team/EffectiveJava/blob/main/EffectiveJavaStudy/Chapter4/CoRaveler/Item15/pictures/%EC%A0%91%EA%B7%BC%EC%A0%9C%EC%96%B4%EC%9E%90.png?raw=true)

- public(ê³µê°œ API) í˜•íƒœë¡œ í´ë˜ìŠ¤ ì„¤ê³„ë¥¼ í•˜ê²Œ ëœë‹¤ë©´, 
ëª¨ë“  ë©¤ë²„ëŠ” ê°€ê¸‰ì  private ìœ¼ë¡œ ë§Œë“¤ì.
- ê·¸ëŸ¬ê³ ë‚˜ì„œ ê°™ì€ íŒ¨í‚¤ì§€ì˜ ë‹¤ë¥¸ í´ë˜ìŠ¤ê°€ ì ‘ê·¼í•´ì•¼ í•œë‹¤ë©´
- ì´ë•Œ package-private(default) ë¡œ ë°”ê¿”ì£¼ì!

(ë‹¨, default ë¡œ ë°”ê¿”ì£¼ëŠ” ê²½ìš°ê°€ ë§ë‹¤ë©´, í´ë˜ìŠ¤ ì„¤ê³„ë¥¼ ë‹¤ì‹œ í•œë²ˆ ìƒê°í•´ë³´ì)

- protected ì´ìƒë¶€í„°ëŠ” ê³µê°œ API ì˜ ë²”ìœ„ì´ê¸° ë•Œë¬¸ì—
- default â†’ protected ìœ¼ë¡œ ë³€ê²½í•˜ê²Œ ë˜ëŠ” ê²½ìš°
    
    ë‚´ë¶€ ë™ì‘ ë°©ì‹ì„ API ë¬¸ì„œì— ì ì–´ì„œ ì‚¬ìš©ìì—ê²Œ ê³µê°œí•´ì•¼ í•©ë‹ˆë‹¤!
    
    ![Untitled](https://github.com/Effective-Java-Study-Team/EffectiveJava/blob/main/EffectiveJavaStudy/Chapter4/CoRaveler/Item15/pictures/StringPublic%EC%98%88%EC%8B%9C.png?raw=true)
    
    í•´ë‹¹ ì‚¬ì§„ì€ ëŒ€ë¶€ë¶„ì˜ í•„ë“œê°€ private ì¸ 
    
    String í´ë˜ìŠ¤ì—ì„œ í•„ë“œ(ë©”ì„œë“œ)ê°€ public ì´ê¸°ì—
    
    ë¬¸ì„œì— ëª…ì„¸ê°€ ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
    

<aside>
ğŸ’¡ í•˜ì§€ë§Œ ìƒì†ì„ í•  ê²½ìš°, ì ‘ê·¼ ì œì–´ìë¥¼ ë¬´ì¡°ê±´ ë” ë„“ê²Œ í•´ì•¼í•˜ëŠ” ë°?

</aside>

ì´ëŠ” ìë°”ì˜ ë¦¬ìŠ¤ì½”í”„ ì¹˜í™˜ ë²•ì¹™ì´ë¼ëŠ”

ê°ì²´ ì§€í–¥ íŒ¨ëŸ¬ë‹¤ì„ì„ ì§€í‚¤ê¸° ìœ„í•´ì„œ ì¡´ì¬í•©ë‹ˆë‹¤.

ê·¸ë˜ì„œ ì´ëŸ° ê²½ìš° ì–´ì©” ìˆ˜ ì—†ì´ 

ë¬´ì‘ì • ì¢ê²ŒëŠ” ì„ ì–¸í•  ìˆ˜ ì—†ë‹¤!

### í…ŒìŠ¤íŠ¸í•  ë•Œì˜ ì ‘ê·¼ ì œì–´ì ì„¤ì •ë²•

private í•„ë“œë“¤ì€ í•´ë‹¹ í´ë˜ìŠ¤ì˜ ë‚´ë¶€ êµ¬í˜„ì„ ìœ„í•œ í•„ë“œë¼ê³  í–ˆë‹¤.

í…ŒìŠ¤íŠ¸ ì½”ë“œë¡œ ì´ëŸ¬í•œ ë‚´ë¶€ êµ¬í˜„ì„ í…ŒìŠ¤íŠ¸ í•´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ìˆëŠ”ë°

private ì¸ ê²½ìš°, ì´ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œ ì ‘ê·¼ì„ í•  ìˆ˜ê°€ ì—†ë‹¤.

ì´ëŸ° ê²½ìš°ì—ëŠ”

`private â†’ package-private(default) ë¡œ ë³€ê²½`í•˜ê³ 

í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ê°™ì€ íŒ¨í‚¤ì§€ ë‚´ì—ì„œ ì‘ì„±í•˜ë©´ ëœë‹¤.

### public í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ í•„ë“œ ì„¤ì •ë²•

í´ë˜ìŠ¤ê°€ê°€ public ì¼ë•Œ ë§Œì•½ ì¸ìŠ¤í„´ìŠ¤ í•„ë“œê°€

1. final ê°€ë³€ ê°ì²´ ë¥¼ ë§Œë“¤ê±°ë‚˜
    
    ```java
    public class Public {
    	public static final int[] ARR = {1,2,3,4,5}; //
    	//...
    }
    ```
    
    ```java
    System.out.println(arr[0]); // 1
    Public.arr[0] = 10;
    System.out.println(arr[0]); // 10, final ì´ì—¬ë„ ì°¸ì¡°ê°ì²´ë¼ì„œ ë¶ˆë³€ ì•ˆë¨
    ```
    
    ì´ë•Œ ì´ ê°€ë³€ ê°ì²´ arr ì€ ì ˆëŒ€ë¡œ `getter` ê°€ ìˆìœ¼ë©´ ì•ˆëœë‹¤.
    
    ### ì´ëŸ° ë°°ì—´ í•„ë“œì˜ ë¶ˆë³€ì„± + ì •ë³´ ì œê³µ ë‹¤ í•˜ëŠ” ë°©ë²• 2 ê°€ì§€
    
    ```java
    // 1.
    // ë°°ì—´ì„ public->private ìœ¼ë¡œ ë§Œë“¤ê³ 
    // public ë¶ˆë³€ ë¦¬ìŠ¤íŠ¸(ë·°)ë¥¼ ë§Œë“ ë‹¤.
    private static final int[] ARR = {1,2,3,4,5};
    public static final List<Integer> list = 
    		Collections.unmodifiableList(Arrays.asList(ARR));
    ```
    
    ```java
    // 2.
    // public -> private ìœ¼ë¡œ ë°”ê¾¸ê³ 
    // ë³µì œë³¸ ì œê³µ
    private static final int[] ARR = {1,2,3,4,5};
    public static final int[] values() {
    	return ARR.clone();
    }
    ```
    
2. final ì•„ë‹Œ ì¸ìŠ¤í„´ìŠ¤ í•„ë“œì˜ ì ‘ê·¼ ì œì–´ìê°€ public ì¸ ê²½ìš°
    
    ```java
    public class Public {
    	public int num = 2;
    	//...
    }
    ```
    
    ```java
    Public p = new Public();
    
    System.out.println(p.num); // 2
    p.num = 10;
    System.out.println(p.num); // 10, ë¶ˆë³€ì´ ì•„ë‹˜
    ```
    

1. public ê°€ë³€ í•„ë“œì˜ ê²½ìš°
    
    ```java
    public class ThreadNotSafeArrayLIst {
        public List<String> list = new ArrayList<>();
    }
    ```
    
    ```java
    public class UseThreadNotSafeArrayList {
        public static void main(String[] args) {
            ThreadNotSafeArrayLIst l = new ThreadNotSafeArrayLIst();
    
            // 10ê°œì˜ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ì—¬ ë™ì‹œì— listì— ì ‘ê·¼í•˜ê²Œ í•©ë‹ˆë‹¤.
            for (int i = 0; i < 10; i++) {
                new Thread(() -> {
                    for (int j = 1; j <= 6; j++) {
                        l.list.add("Test" + j);
                    }
                }).start();
            }
    
            // ìŠ¤ë ˆë“œë“¤ì´ ëª¨ë‘ ì‘ì—…ì„ ì™„ë£Œí•  ë•Œê¹Œì§€ ëŒ€ê¸°í•©ë‹ˆë‹¤.
            try {
                Thread.sleep(1000);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
    
            // listì˜ í¬ê¸°ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.
            System.out.println("Size of list: " + l.list.size()); // ë§¤ë²ˆ ê²°ê³¼ê°€ ë‹¤ë¦„
        }
    }
    ```
    
2. í•„ë“œê°€ public ì¸ ê²½ìš°

í•´ë‹¹ í•„ë“œì™€ ê´€ë ¨ëœ ëª¨ë“  logic ì´ë‚˜

ê´€ë ¨ ê³µê°œ API ë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ê²ƒë“¤ì€

`ë¶ˆë³€ì‹ì„ ë³´ì¥ë°›ì§€ ëª»í•œë‹¤`.

`ìŠ¤ë ˆë“œ ì•ˆì „ì„± ê¹Œì§€ë„ ë³´ì¥ ë°›ì§€ ëª»í•œë‹¤`.

### ì˜ˆì™¸ - public ì´ì§€ë§Œ public static final ì“°ëŠ” ê²½ìš°

í•´ë‹¹ í´ë˜ìŠ¤ì˜ ì¶”ìƒ ê°œë…ì„ ì„¤ëª…í•˜ê¸°ì— ì í•©í•˜ë‹¤ë©´

ê°€ë” ì˜ˆì™¸ë¡œ ë‘ê¸°ëŠ” í•œë‹¤.

ex) 

```java
public final class Integer extends Number
        implements Comparable<Integer>, Constable, ConstantDesc {
    /**
     * A constant holding the minimum value an {@code int} can
     * have, -2<sup>31</sup>.
     */
    @Native public static final int   MIN_VALUE = 0x80000000;

    /**
     * A constant holding the maximum value an {@code int} can
     * have, 2<sup>31</sup>-1.
     */
    @Native public static final int   MAX_VALUE = 0x7fffffff;
```

í•˜ì§€ë§Œ ì´ëŸ° í•„ë“œëŠ” ë°˜ë“œì‹œ

1. ê¸°ë³¸ íƒ€ì… ì´ê±°ë‚˜
2. ë¶ˆë³€ ê°ì²´ë¥¼ ì°¸ì¡°

í•´ì•¼ë§Œ í•œë‹¤.

### ëª¨ë“ˆì—ì„œì˜ ì ‘ê·¼ì œì–´ì

[2. Java 9ì˜ ìƒˆë¡œìš´ ê¸°ëŠ¥ - ëª¨ë“ˆ(1)](https://mslim8803.tistory.com/39)

ëª¨ë“ˆì— ëŒ€í•´ì„œëŠ” ìœ„ ë¸”ë¡œê·¸ë¥¼ ë³´ê³  ì˜¤ì.

<aside>
ğŸ’¡ `ëª¨ë“ˆ = íŒ¨í‚¤ì§€ + íŒ¨í‚¤ì§€ + â€¦`

</aside>

ë°°ì› ë“¯ì´ public ê³¼ protectedëŠ” ê³µê°œ API,

ì¦‰ ì™¸ë¶€ íŒ¨í‚¤ì§€ì— ê³µê°œí•˜ë„ë¡ ì„¤ì •ì„ í•˜ê²Œ ëœë‹¤.

í•˜ì§€ë§Œ ëª¨ë“ˆ ì•ˆì—ì„œ public, protected ë¥¼ ì‚¬ìš©í•˜ê²Œ ëœë‹¤ë©´

í•´ë‹¹ ëª¨ë“ˆì•ˆì—ì„œë§Œ ìœ íš¨í•˜ê³ , ë‹¤ë¥¸ ëª¨ë“ˆì€ ì´ë¥¼ ëª…ì‹œì ìœ¼ë¡œ

í—ˆìš©í•´ì£¼ì§€ ì•Šìœ¼ë©´ ì‚¬ìš©ì´ ë¶ˆê°€í•˜ë‹¤.