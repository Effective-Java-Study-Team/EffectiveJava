# 아이템 5. 자원을 직접 명시하지 말고 의존 객체 주입을 사용하라.

## 여러자원을 의존해야 할 경우 안티패턴

- **사용하는 자원에 따라 동작이 달라지는 클래스에는 정적 유틸리티 클래스나 싱글턴이 적합하지 않다.**
    - ‘사용하는 자원에 따라 동작이 달라지는 클래스’란 클래스 내부적으로 하나 이상의 자원을 의존하고, <br/>그 자원이 클래스의 동작에 영향을 주는 것을 의미한다.

## 의존 객체 주입 패턴

- 인스턴스를 생성할 때 생성자에 필요한 자원을 넘겨주는 방식
- 클래스가 여러 자원 인스턴스를 지원해야 하며, 클라이언트가 원하는 자원을 사용해야 하는 조건에 유리하다.

### 사용 이점

- 의존 객체 주입 패턴을 사용한 클래스 자원의 개수 및 의존 관계의 상태와 상관 없이 작동 가능하다.
- 불변을 보장하여 (같은 자원을 사용하려는)여러 클라이언트가 의존 객체들을 안심하고 공유할 수  있다.
- 의존 객체 주입패턴의 변형 방식
    - 생성자에 자원 팩토리를 넘겨주는 방식인 팩토리 메서드 패턴
        - 여기서 팩토리는 호출할 때마다 특정 타입의 인스턴스를 반복해서 만들어주는 객체를 말한다.
        - `Supplier<T>` 인터페이스가 팩토리를 표현한 완벽한 예라고 한다.